<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechFlow Inc. - Task Manager</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="login-page" id="loginPage">
        <div class="logo-container">
            <img src="https://via.placeholder.com/150" alt="TechFlow Inc." class="logo">
            <h1>Welcome to TechFlow Task Manager</h1>
        </div>
        <div class="login-container">
            <h2>Login</h2>
            <input type="text" id="username" placeholder="Enter Username" required>
            <input type="password" id="password" placeholder="Enter Password" required>
            <button onclick="login()">Login</button>
            <div id="errorMessage" class="error-message"></div>
        </div>
    </div>

    <div class="dashboard-page" id="adminDashboard">
        <h2>Admin Dashboard</h2>
        <button onclick="logout()">Logout</button>
        <div class="task-section">
            <h3>Manage Tasks</h3>
            <input type="text" id="newTask" placeholder="New Task">
            <button onclick="addTask()">Add Task</button>
            <ul id="taskList"></ul>
        </div>
    </div>

    <div class="dashboard-page" id="employeeDashboard">
        <h2>Employee Dashboard</h2>
        <button onclick="logout()">Logout</button>
        <div class="task-section">
            <h3>Your Tasks</h3>
            <ul id="employeeTaskList"></ul>
        </div>
    </div>

    <script>
        // Simulating Local Database with User Information
        const users = [
            { username: "admin", password: "admin123", role: "admin" },
            { username: "employee", password: "employee123", role: "employee" }
        ];

        // Display login page by default
        document.getElementById('loginPage').style.display = 'block';

        // Function to handle login
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const user = users.find(u => u.username === username && u.password === password);

            if (user) {
                document.getElementById('loginPage').style.display = 'none';
                if (user.role === 'admin') {
                    document.getElementById('adminDashboard').style.display = 'block';
                } else {
                    document.getElementById('employeeDashboard').style.display = 'block';
                    loadEmployeeTasks();
                }
            } else {
                document.getElementById('errorMessage').innerText = "Invalid credentials. Please try again.";
            }
        }

        // Function to logout
        function logout() {
            document.getElementById('loginPage').style.display = 'block';
            document.getElementById('adminDashboard').style.display = 'none';
            document.getElementById('employeeDashboard').style.display = 'none';
        }

        // Task Management for Admin
        let tasks = [];

        function addTask() {
            const task = document.getElementById('newTask').value;
            if (task) {
                tasks.push(task);
                document.getElementById('newTask').value = '';
                displayTasks();
                saveTasks();
            }
        }

        function displayTasks() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';
            tasks.forEach((task, index) => {
                taskList.innerHTML += <li>${task}</li>;
            });
        }

        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        function loadEmployeeTasks() {
            tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            const employeeTaskList = document.getElementById('employeeTaskList');
            employeeTaskList.innerHTML = '';
            tasks.forEach(task => {
                employeeTaskList.innerHTML += <li>${task}</li>;
            });
        }

    </script>
</body>

</html>